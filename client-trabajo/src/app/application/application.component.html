
<button id="logout" (click)="logout()"><span class="glyphicon glyphicon glyphicon-off" aria-hidden="true"></span></button>
<div>
  <button (click)="showPostForm = !showPostForm"><span class="glyphicon glyphicon glyphicon-file" aria-hidden="true"></span></button>

  <div *ngIf="showPostForm">
    <input [(ngModel)]="newApplication.app_date" type="date"/>
    <input [(ngModel)]="newApplication.company_name" placeholder="Company"/>
    <input [(ngModel)]="newApplication.job_title" placeholder="Job Title"/>
    <input [(ngModel)]="newApplication.job_description" placeholder="Description"/>
    <input [(ngModel)]="newApplication.contact_name" placeholder="Contact Name"/>
    <input [(ngModel)]="newApplication.contact_email" placeholder="Contact Email" type="email"/>
    <button (click)="postApplication()">Submit</button>
  </div>


  <div *ngIf="showPatchForm">
    <input [(ngModel)]="updateApplication.app_date" type="date"/>
    <input [(ngModel)]="updateApplication.company_name" placeholder="Company"/>
    <input [(ngModel)]="updateApplication.job_title" placeholder="Job Title"/>
    <input [(ngModel)]="updateApplication.job_description" placeholder="Description"/>
    <input [(ngModel)]="updateApplication.contact_name" placeholder="Contact Name"/>
    <input [(ngModel)]="updateApplication.contact_email" placeholder="Contact Email" type="email"/>
    
    <button (click)="patchApplication()">Update</button>
  </div>
  <div class="table-responsive"> 
  <table class="table table-condensed table-striped table-hover">
  <thead>
    <tr>
      <th>Date</th>
      <th>Company</th>
      <th>Job</th>
      <th>Description</th>
      <th>Contact Name</th>
      <th>Contact Email</th>
    </tr>
  </thead>
   
  <tbody>
    <tr *ngFor="let application of applications">
      <td>{{application.app_date}}</td>
      <td>{{application.company_name}}</td>
      <td>{{application.job_title}}</td>
      <td>{{application.job_description}}</td>
      <td>{{application.contact_name}}</td>
      <td>{{application.contact_email}}</td>
      <td><button (click)="editApplication(application)"><span class="glyphicon glyphicon glyphicon-pencil" aria-hidden="true"></span></button></td>
      <td><button (click)="deleteApplication(application)"><span class="glyphicon glyphicon glyphicon-trash" aria-hidden="true"></span></button></td>
      <td>
        <button data-toggle="modal" data-target=".bs-example-modal-lg"><span class="glyphicon glyphicon glyphicon-list" aria-hidden="true"></span></button>
      </td>
    </tr>   
  </tbody>

      <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
      <div class="modal-dialog modal-small" role="document">
        <div class="modal-content">
           <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Status</h4>
          <div class="modal-body">

            <span *ngFor="let starred of stars; let i = index"
                (click)="rate(i + (starred ? (value > i + 1 ? 1 : 0) : 1))">
                <ng-container *ngIf="starred; else noStar"><span class="glyphicon glyphicon glyphicon-star" aria-hidden="true"></span></ng-container>
                <ng-template #noStar><span class="glyphicon glyphicon glyphicon-star-empty" aria-hidden="true"></span>
                </ng-template>
            </span>

            <div class="progress">
              <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" 
              style="width: 5%;">
              </div>
            </div>
           </div>
         </div>
       </div>
      </div>
  </table>  
  </div>
</div>


