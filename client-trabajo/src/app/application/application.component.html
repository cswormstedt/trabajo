
<button id="logout" (click)="logout()"><span class="glyphicon glyphicon glyphicon-off" aria-hidden="true"></span></button>

<div>
  <button (click)="showPostForm = !showPostForm"><span class="glyphicon glyphicon glyphicon-file" aria-hidden="true"></span></button>

  <div *ngIf="showPostForm">
    <input [(ngModel)]="newApplication.app_date" type="date"/>
    <input [(ngModel)]="newApplication.company_name" placeholder="Company"/>
    <input [(ngModel)]="newApplication.job_title" placeholder="Job Title"/>
    <input [(ngModel)]="newApplication.job_description" placeholder="Description"/>
    <input [(ngModel)]="newApplication.contact_name" placeholder="Contact Name"/>
    <input [(ngModel)]="newApplication.contact_email" placeholder="Contact Email" type="email"/>
    <button (click)="postApplication()">Submit</button>
  </div>


  <div *ngIf="showPatchForm">
    <input [(ngModel)]="updateApplication.app_date" type="date"/>
    <input [(ngModel)]="updateApplication.company_name" placeholder="Company"/>
    <input [(ngModel)]="updateApplication.job_title" placeholder="Job Title"/>
    <input [(ngModel)]="updateApplication.job_description" placeholder="Description"/>
    <input [(ngModel)]="updateApplication.contact_name" placeholder="Contact Name"/>
    <input [(ngModel)]="updateApplication.contact_email" placeholder="Contact Email" type="email"/>
    
    <button (click)="patchApplication()">Update</button>
  </div>


  
  
    <div *ngFor="let application of applications; let i = index" [attr.data-index]="i">   
        <div id='container'>
          <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="heading" data-id="{{ application.id }}">
              <h4 class="panel-title">
                
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{i}}" aria-expanded="false" aria-controls=""><button><span class="glyphicon glyphicon glyphicon-list" aria-hidden="true"></span></button></a>
                <div class = "jobApp">
                
                <p>{{application.app_date}}
                {{application.company_name}}
                {{application.job_title}}
                {{application.job_description}}
                {{application.contact_name}}
                {{application.contact_email}}</p>
                </div>
                
              </h4>
            </div>

            <div id="collapse{{i}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading">
               
               <p>{{application.contact_name}}</p>
               <button (click)="editApplication(application)">
                  <span class="glyphicon glyphicon glyphicon-pencil" aria-hidden="true"></span>
               </button>     
               <button (click)="deleteApplication(application)">
                  <span class="glyphicon glyphicon glyphicon-trash" aria-hidden="true"></span>
               </button> 


            </div>
          </div>
        </div>
    </div>

    

</div>


