<ng-progress [positionUsing]="'marginLeft'" [minimum]="0.15" [maximum]="1"
             [speed]="200" [showSpinner]="false" [direction]="'leftToRightIncreased'"
             [color]="'#FEF749'" [trickleSpeed]="250" [thick]="true" [ease]="'linear'"
></ng-progress>


<nav class="navbar navbar-dark bg-dark fixed-top">

  <button class="my-sm-0 btn" id="yellow" (click)="showPostForm = !showPostForm">
    <i class="fa fa-plus fa-lg" aria-hidden="true"></i>
  </button>

  <h2 id="title">Trabajo</h2>


  <button class="my-sm-0 btn" id="yellow" (click)="logout()">
    <i class="fa fa-sign-out fa-lg" aria-hidden="true"></i>
  </button>


</nav>

<div class="body">

  <div  *ngIf="showPostForm"> 

    <div class="info">
    <input [(ngModel)]="newApplication.app_date" type="date"/>
    <input [(ngModel)]="newApplication.company_name" placeholder="Company"/>
    <input [(ngModel)]="newApplication.job_title" placeholder="Job Title"/>
    <input [(ngModel)]="newApplication.job_description" placeholder="Description"/>
    <input [(ngModel)]="newApplication.contact_name" placeholder="Contact Name"/>
    <input [(ngModel)]="newApplication.contact_email" placeholder="Contact Email" type="email"/>
    </div>
     
   <button class="c btn-secondary" (click)="postApplication()">
          Add Application
    </button>
     
  </div>


<div *ngFor="let application of applications; let i = index" [attr.data-index]="i"> 
<div class="card " data-id="{{ application.id }}">
  <div class="card-header">
    <h3 id="j">{{application.company_name}} </h3><i class="fa fa-angle-double-right" aria-hidden="true"> </i> Active Days: {{application.active}}
  </div>

  <div class="row">
 

      <div class="btn-group-vertical">
       <div class="status" data-toggle="buttons">
        <label class="btn btn-warning">
          <input type="radio" name="options" id="option1"> Want <i class="fa fa-diamond fa-lg" aria-hidden="true"></i>
        </label>
        <label class="btn btn-success">
          <input type="radio" name="options" id="option5"> Promising <i class="fa fa-thumbs-up fa-lg" aria-hidden="true"></i>
        </label>
        <label class="btn btn-primary">
          <input type="radio" name="options" id="option2"> Send follow up <i class="fa fa-sticky-note fa-lg" aria-hidden="true"></i>
        </label>
        <label class="btn btn-info">
          <input type="radio" name="options" id="option3"> Waiting to hear <i class="fa fa-phone fa-lg" aria-hidden="true"></i>
        </label>
        <label class="btn btn-danger">
          <input type="radio" name="options" id="option4"> Passed on <i class="fa fa-meh-o fa-lg" aria-hidden="true"></i>
        </label>
            

       </div> 
      </div>

    
      <div class="card-text app">
        <h5>Job: {{application.job_title}}</h5>
        <h5>Contact: {{application.contact_name}} </h5>
        <a href="mailto:{{application.contact_email}}"><h5>{{application.contact_email}} </h5></a>
        <h5> Job info: {{application.job_description}}</h5>
     
        <p>Current Date: {{today | date: 'y-MM-dd'}}</p>
        <p>Date Applied : {{application.app_date}}</p>
        <button class= "btn" id=yellow (click)="editApplication(application)">
          Edit
        </button>
              
          <button class="btn btn-danger" id="trash" (click)="deleteApplication(application)">
                Delete
          </button>
      </div>
  </div>
      <div class="card-text info">
      

          <div  *ngIf="showPatchForm">
         
          <div >
            <input [(ngModel)]="updateApplication.company_name" placeholder="Company"/>
            <input [(ngModel)]="updateApplication.job_title" placeholder="Job Title"/>
            <input [(ngModel)]="updateApplication.job_description" placeholder="Description"/>
            <input [(ngModel)]="updateApplication.contact_name" placeholder="Contact Name"/>
            <input [(ngModel)]="updateApplication.contact_email" placeholder="Contact Email" type="email"/> 
            <button class="c btn-secondary" (click)="patchApplication()">Update Trabajo</button>
           <!--  <textarea rows="3" cols="30" style="background-color: rgba(254, 247, 70, 0.9); border-radius: 4px;"></textarea> -->
            
          </div>
          </div>
      </div>
     

  

</div>


